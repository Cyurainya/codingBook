<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .box {
            width: 100px;
            height: 100px;
            background-color: yellow;
            margin-right: 50px;
            position: absolute;
        }

        .zoom {
            width: 100px;
            height: 100px;
            background-color: turquoise;
        }

        .whole {
            display: flex;
            flex-direction: row;
        }

        body {
            position: relative;
            background-color: teal;
        }
    </style>
</head>

<body>

    <h1>正方形区域拖拽</h1>
    <div class="box" id="target"> </div>

    <script>
        // 页面内有一个正方形元素，实现对其拖拽和放下，需要考虑窗口的边界情况。
        let flag = false;
        let sx = 0, sy = 0, cx = 0, cy = 0, dx = 0, dy = 0;

        let target = document.getElementById('target')
        if (target.addEventListener) {

            target.addEventListener('mousedown', function (e) {
                dragStart(e)
            }, false)
            target.addEventListener('mousemove', function (e) {
                dragMove(e)
            }, false)
            document.body.addEventListener('mouseup', function (e) {
                dragEnd(e)
            }, false)

        }
        //获取对象
        function getTarget(event) {
            if (event.touches) {
                return event.touches[0]
            } else if (window.event) {
                return window.event
            }
            return event
        }
        function dragStart(event) {
            flag = true;
            sx = event.clientX;
            sy = event.clientY;
            dx = target.offsetLeft;
            dy = target.offsetTop;
        }
        function dragMove(event) {
            if (flag) {
                cx = event.clientX;
                cy = event.clientY;
                target.style.left = cx - sx + dx + 'px'
                target.style.top = cy - sy + dy + 'px'
                if ((cx - sx + dx) <= 0 || (cy - sy + dy) <= 0) {
                    alert('不得离开窗口')
                }

            }
        }
        function dragEnd(event) {
            flag = false
        }



    </script>
</body>

</html>